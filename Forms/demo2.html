<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Validation with jQuery Validation Plugin</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"></script>

      <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

      <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
</head>
<body>

  <div class="container mt-5">
    <form id="myForm">
      <div class="mb-3">
        <label for="username" class="form-label">Username:</label>
        <input type="text" class="form-control" id="username" name="username">
        <div class="error-message" id="username-error"></div>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input type="text" class="form-control" id="email" name="email">
        <div class="error-message" id="email-error"></div>
      </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  </div>

  <script>
    // Ensure that jQuery and jQuery Validation plugin are loaded before using them
    if (typeof jQuery === 'undefined' || typeof jQuery.fn.validate === 'undefined') {
      throw new Error('jQuery and jQuery Validation plugin must be loaded.');
    }

    $(document).ready(function () {
      $('#myForm').validate({
        rules: {
          username: {
            required: true,
            minlength: 3,
            maxlength: 20
          },
          email: {
            required: true,
            email: true
          }
        },
        messages: {
          username: {
            required: 'Please enter a username.',
            minlength: 'Username must be at least 3 characters.',
            maxlength: 'Username must not exceed 20 characters.'
          },
          email: {
            required: 'Please enter an email address.',
            email: 'Please enter a valid email address.'
          }
        },
        errorPlacement: function (error, element) {
          // Custom error placement
          var fieldId = element.attr('id') + '-error';
          error.appendTo('#' + fieldId);
        },
        submitHandler: function (form) {
          // Custom logic when form is submitted and validation passes
          alert('Form submitted successfully!');
        }
      });
    });
  </script>

</body>
</html>
